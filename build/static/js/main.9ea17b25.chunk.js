(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{317:function(e,t,a){e.exports=a.p+"static/media/logo3.afb15cd7.png"},319:function(e,t,a){e.exports=a.p+"static/media/image2.ade0a065.jpg"},323:function(e,t,a){e.exports=a.p+"static/media/image1.02864c39.jpg"},384:function(e,t,a){e.exports=a(622)},622:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o="AUTH_TOKEN",i="/signup",c="/login",s="/rooms",u="/create-post",m="/room",d="/room/:id",p=a(260),f=a(43),b=(a(389),a(346));var g=a(11),E=a(28),v=a(94),h=a(115);function y(){return!!localStorage.getItem(o)}var j=function(e){return"function"===typeof e||!1};j(/x/)||Uint8Array&&j(Uint8Array);function O(e){return e&&"object"===typeof e&&!Array.isArray(e)}Array.isArray;function w(e,t){var a=Object.keys(t);return function e(n){if(O(n)&&null!==n){if(function(e){for(var n=0,r=a.length;n<r;n++){var l=a[n];if(e[l]!==t[l])return!1}return!0}(n))return n;for(var r in n){var l=e(n[r]);if(l)return l}}else if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++){var c=e(n[o]);if(c)return c}}(e)}var C=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return y()?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:c,state:{from:e.location}}})}}))},k=a(132),x=a(73),I=a(18),S=a(660),T=a(661),N=a(654),A=a(685),$=a(317),D=a.n($),F=a(655),R=a(657),q=a(658),B=a(659),W=a(656),P=Object(N.a)(function(e){return{text:{color:"white"}}}),z=function(){var e=Object(n.useState)(!0),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement(W.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:a},r.a.createElement(R.a,{id:"confirmation-dialog-title"},"Log Out Confirmation"),r.a.createElement(q.a,{dividers:!0},"Are you sure you want to logout? ",r.a.createElement("span",{"aria-label":"sad",role:"img"}," \ud83d\ude31")),r.a.createElement(B.a,null,r.a.createElement(F.a,{autoFocus:!0,onClick:function(){l(!1)},color:"default"},"Cancel"),r.a.createElement(F.a,{onClick:function(){l(!1),localStorage.removeItem(o),window.location.href="/"},color:"secondary"},"Log Out")))},M=function(){var e=P(),t=Object(n.useState)(!1),a=Object(g.a)(t,2),l=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(F.a,{component:E.b,to:m,className:e.text},"Enter Room"),r.a.createElement(F.a,{component:E.b,to:u,className:e.text},"Create Room"),r.a.createElement(F.a,{component:E.b,to:s,className:e.text},"Rooms"),r.a.createElement(F.a,{onClick:function(){return o(!0)},className:e.text},"Log Out"),l?r.a.createElement(z,null):null)},V=Object(N.a)(function(e){return{text:{color:"white"}}}),L=function(){var e=V();return r.a.createElement("div",null,r.a.createElement(F.a,{component:E.b,to:m,className:e.text},"Enter Room"),r.a.createElement(F.a,{component:E.b,to:"/blog",className:e.text},"Blog"),r.a.createElement(F.a,{component:E.b,to:c,className:e.text},"Login"),r.a.createElement(F.a,{component:E.b,to:i,className:e.text},"Sign Up"))},G=Object(N.a)(function(e){var t;return{appBar:{backgroundColor:"#008DA0"},logoIcon:{marginRight:"0.5em"},menuButton:{marginRight:e.spacing(2)},titleContainer:{textDecoration:"none"},title:(t={display:"none"},Object(I.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(I.a)(t,"color","white"),Object(I.a)(t,"fontSize","1.9rem"),Object(I.a)(t,"fontWeight",500),Object(I.a)(t,"fontFamily","Roboto,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol"),t),toolbarGutters:Object(I.a)({},e.breakpoints.up("md"),{margin:e.spacing(0,20)})}}),U=Object(v.f)(function(e){var t=e.location,a=G(),n=t.pathname.includes(i)||t.pathname.includes(c);return r.a.createElement("div",null,r.a.createElement(S.a,{position:"fixed",className:a.appBar},r.a.createElement(T.a,{classes:{gutters:n?a.toolbarGutters:""}},r.a.createElement(A.a,{component:E.b,className:a.titleContainer,to:"/",display:"flex",alignItems:"center"},r.a.createElement("img",{src:D.a,alt:"",width:"50px",className:a.logoIcon}),r.a.createElement(x.a,{className:a.title,variant:"h6"},"Real time feedo")),r.a.createElement(A.a,{component:"div",display:"flex",justifyContent:"flex-end",alignItems:"center",style:{marginLeft:"auto"}},y()?r.a.createElement(M,null):r.a.createElement(L,null)))))}),H=a(662),Q=Object(N.a)({"@global":{"html , body , #root":{height:"100%"}},root:{display:"grid",gridTemplateRows:"64px 1fr",height:"100%"},body:{backgroundColor:"white"}}),K=Object(v.f)(function(e){var t=Q(),a=e.children,l=e.location.pathname,o=void 0===l?"":l;return o===c||o===i?r.a.createElement(n.Fragment,null,r.a.createElement(H.a,null),a):r.a.createElement("div",{className:t.root},r.a.createElement(H.a,null),r.a.createElement(U,null),r.a.createElement("div",{className:t.body},a))}),Y=a(318),J=a.n(Y);function Z(e){var t=function(e){var t=J()(e);if(!t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}(e);return null!==t&&!(t.valueOf()>(new Date).valueOf()+0)}var _=a(26),X=a(686),ee=a(665),te=a(663),ae=a(664),ne=a(182),re=a.n(ne),le=a(27),oe=a(25),ie=a(319),ce=a.n(ie);function se(){var e=Object(_.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return se=function(){return e},e}function ue(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://github.com/AnnaNarim/"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var me=Object(le.a)(se()),de=Object(N.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(ce.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function pe(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,c=de(),u=Object(n.useState)(""),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(g.a)(f,2),E=b[0],h=b[1],y=Object(n.useState)(!1),j=Object(g.a)(y,2),O=j[0],w=j[1],C=Object(oe.b)(me,{onCompleted:function(e){var a=e.login;t&&t(a.token),w(!0),p(""),h("")}}),I=Object(g.a)(C,1)[0];return O?r.a.createElement(v.a,{to:o.pathname||s}):r.a.createElement(ae.a,{container:!0,component:"main",className:c.root},r.a.createElement(ae.a,{item:!0,xs:!1,sm:4,md:7,className:c.image}),r.a.createElement(ae.a,{item:!0,xs:12,sm:8,md:5,component:k.a,elevation:6,square:!0},r.a.createElement("div",{className:c.paper},r.a.createElement(X.a,{className:c.avatar},r.a.createElement(re.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:c.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),I({variables:{email:d,password:E}})}},r.a.createElement(ee.a,{value:d,onChange:function(e){return p(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(ee.a,{value:E,onChange:function(e){return h(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit},"Sign In"),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0},r.a.createElement(te.a,{href:i,variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(A.a,{mt:5},r.a.createElement(ue,null))))))}var fe=a(53),be=a(323),ge=a.n(be);function Ee(){var e=Object(_.a)(["\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n"]);return Ee=function(){return e},e}function ve(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://github.com/AnnaNarim"},"ANNA NARIM Production")," ",(new Date).getFullYear(),".")}var he=Object(le.a)(Ee()),ye=Object(N.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(ge.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),je={email:"",password:"",name:""};function Oe(e){var t=e.refreshTokenFn,a=e.location.state,l=(void 0===a?{}:a).from,o=void 0===l?{}:l,i=ye(),u=Object(n.useState)(je),m=Object(g.a)(u,2),d=m[0],p=m[1],f=d.name,b=d.email,E=d.password,h=Object(n.useState)(!1),y=Object(g.a)(h,2),j=y[0],O=y[1],w=Object(oe.b)(he,{onCompleted:function(e){var a=e.signup;t&&t(a.token),O(!0),p(je)}}),C=Object(g.a)(w,1)[0];if(j)return r.a.createElement(v.a,{to:o.pathname||s});var S=function(e){return p(Object(fe.a)({},d,Object(I.a)({},e.target.name,e.target.value)))};return r.a.createElement(ae.a,{container:!0,component:"main",className:i.root},r.a.createElement(ae.a,{item:!0,xs:!1,sm:4,md:7,className:i.image}),r.a.createElement(ae.a,{item:!0,xs:12,sm:8,md:5,component:k.a,elevation:6,square:!0},r.a.createElement("div",{className:i.paper},r.a.createElement(X.a,{className:i.avatar},r.a.createElement(re.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),C({variables:Object(fe.a)({},d)})}},r.a.createElement(ee.a,{value:f,onChange:S,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"User Name",name:"name",autoComplete:"name",autoFocus:!0}),r.a.createElement(ee.a,{value:b,onChange:S,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(ee.a,{value:E,onChange:S,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Sign Up"),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0},r.a.createElement(te.a,{href:c,variant:"body2"},"Already have an account!!!"))),r.a.createElement(A.a,{mt:5},r.a.createElement(ve,null))))))}var we=a(667),Ce=a(668),ke=a(670),xe=a(669),Ie=a(184),Se=a.n(Ie),Te=a(185),Ne=a.n(Te),Ae=a(186),$e=a.n(Ae),De=a(187),Fe=a.n(De),Re=a(183),qe=a(324),Be=a.n(qe),We=a(57),Pe=a.n(We),ze=a(67),Me=a.n(ze);function Ve(){var e=Object(_.a)(["\n    mutation deletePost($id: ID!) {\n        deletePost(id: $id) {\n            id\n        }\n    }\n"]);return Ve=function(){return e},e}var Le=Object(le.a)(Ve()),Ge=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),Ue=function(e){var t=e.title,a=e.onConfirm,l=e.onClose,o=Object(n.useState)(!0),i=Object(g.a)(o,2),c=i[0],s=i[1];return r.a.createElement(Se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:c},r.a.createElement(Ne.a,{id:"confirmation-dialog-title"},"Delete Room confirmation"),r.a.createElement($e.a,{dividers:!0},"Are you sure you want delete ",t," post? \ud83d\ude31"),r.a.createElement(Fe.a,null,r.a.createElement(F.a,{autoFocus:!0,onClick:function(){s(!1),l()},color:"default"},"Cancel"),r.a.createElement(F.a,{onClick:function(){s(!1),a()},color:"secondary"},"Delete")))},He=function(e){var t=e.title,a=e.id,l=e.refresh,o=Ge(),i=Object(n.useState)(!1),c=Object(g.a)(i,2),s=c[0],u=c[1],m=Object(oe.b)(Le),d=Object(g.a)(m,2),p=d[0],f=d[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:o.backdrop,open:f},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Re.a,{color:"secondary",onClick:function(){return u(!0)}},r.a.createElement(Be.a,null)),s?r.a.createElement(Ue,{title:t,onConfirm:function(){return p({variables:{id:a}}).then(function(){u(!1),l()})},onClose:function(){return u(!1)}}):null)},Qe=a(325),Ke=a.n(Qe),Ye=a(71),Je=a.n(Ye);function Ze(){var e=Object(_.a)(["\n    mutation updateDraft($id: ID!,$title: String!, $content: String!) {\n        updateDraft(id: $id,title : $title, content:$content ) {\n            id\n        }\n    }\n"]);return Ze=function(){return e},e}var _e=Object(le.a)(Ze()),Xe=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),et={isValid:!0,errorMsgs:{}},tt=function(e){var t=e.title,a=e.content,l=e.onConfirm,o=e.onClose,i=Object(n.useState)(!0),c=Object(g.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)({title:t,content:a}),d=Object(g.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(et),E=Object(g.a)(b,2),v=E[0],h=E[1],y=p.title,j=p.content,O=v.errorMsgs,w=void 0===O?{}:O;Object(n.useEffect)(function(){v.isValid||h(et)},[p]);return r.a.createElement(Se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:s},r.a.createElement(Ne.a,{id:"confirmation-dialog-title"},"Edit"),r.a.createElement($e.a,{dividers:!0},r.a.createElement(Je.a,{autoFocus:!0,label:"Title",placeholder:"Title",error:Boolean(w.title),helperText:Boolean(w.title)?w.title:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:y,name:"title",onChange:function(e){var t=e.target;return f(Object(fe.a)({},p,Object(I.a)({},t.name,t.value)))}}),r.a.createElement(Je.a,{label:"Content",multiline:!0,rows:5,rowsMax:10,placeholder:"Content",error:Boolean(w.content),helperText:Boolean(w.content)?w.content:"",fullWidth:!0,margin:"normal",variant:"outlined",type:"content",value:j,name:"content",onChange:function(e){var t=e.target;return f(Object(fe.a)({},p,Object(I.a)({},t.name,t.value)))}})),r.a.createElement(Fe.a,null,r.a.createElement(F.a,{autoFocus:!0,onClick:function(){u(!1),o()},color:"default"},"Cancel"),r.a.createElement(F.a,{onClick:function(){var e=function(e){var t={};return e.title||(t.title="Title is required field"),e.content||(t.content="Content is required field"),{isValid:!Object.keys(t).length,errorMsgs:t}}(p);!0===e.isValid?(l(p),u(!1)):h(e)},color:"primary"},"Save")))},at=function(e){var t=e.title,a=e.id,l=e.content,o=e.refresh,i=Xe(),c=Object(n.useState)(!1),s=Object(g.a)(c,2),u=s[0],m=s[1],d=Object(oe.b)(_e),p=Object(g.a)(d,2),f=p[0],b=p[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:i.backdrop,open:b},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Re.a,{color:"primary",onClick:function(){return m(!0)}},r.a.createElement(Ke.a,null)),u?r.a.createElement(tt,{title:t,content:l,onConfirm:function(e){return f({variables:Object(fe.a)({},e,{id:a})}).then(function(){m(!1),o()})},onClose:function(){return m(!1)}}):null)},nt=Object(N.a)({root:{margin:15}});function rt(e){var t=e.post,a=e.refresh,n=nt(),l=t.title,o=t.id,i=t.content;return r.a.createElement(we.a,{className:n.root,elevation:3},r.a.createElement(Ce.a,{component:E.b,to:"/post/".concat(o)},r.a.createElement(xe.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},l),r.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},i))),r.a.createElement(ke.a,{style:{justifyContent:"flex-end"}},r.a.createElement(He,{title:l,id:o,refresh:a}),r.a.createElement(at,{title:l,id:o,content:i,refresh:a})))}var lt=a(228),ot=a(671),it=a(672),ct=a(673),st=a(674);function ut(){var e=Object(_.a)(["\n    query DraftsQuery {\n        drafts {\n            id\n            content\n            title\n            published\n            author {\n                name\n            }\n        }\n    }\n"]);return ut=function(){return e},e}var mt=Object(le.a)(ut()),dt=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1}}}),pt=Object(v.f)(function(e){var t=e.location.state,a=(void 0===t?{}:t).shouldRefetch,l=void 0!==a&&a,o=Object(n.useState)(l),i=Object(g.a)(o,2),c=i[0],s=i[1],u=dt(),m=Object(oe.c)(mt,{options:{fetchPolicy:"network-only"}}),d=m.loading,p=m.data,f=void 0===p?{}:p,b=m.refetch,E=f.drafts,v=void 0===E?[]:E;return c&&(b(),s(!1)),r.a.createElement(n.Fragment,null,r.a.createElement(lt.a,{className:u.backdrop,open:d},r.a.createElement(ot.a,{color:"inherit"})),r.a.createElement(it.a,null,r.a.createElement("h1",null,"Drafts"),r.a.createElement(ct.a,{cellHeight:"auto",cols:2,spacing:10},v.map(function(e){return r.a.createElement(st.a,{key:e.id},r.a.createElement(rt,{post:e,refresh:function(){return b()},isPublished:e.published}))}))))}),ft=a(675),bt=a(326),gt=a.n(bt),Et=a(676),vt=a(683),ht=a(47);function yt(){var e=Object(_.a)(["\n    mutation CreateDraftMutation($title: String!,$anonymous:Boolean!, $content: String!, $answerType:String!, $fields:[inputField!]! ) {\n        createDraft(title: $title,anonymous: $anonymous content: $content, answerType : $answerType,fields: $fields) {\n            id\n            title\n            content\n            answerType\n        }\n    }\n"]);return yt=function(){return e},e}var jt=Object(le.a)(yt()),Ot=Object(N.a)(function(e){return{submitBtn:{},selection:{margin:"15px 0"},answerTypesWrapper:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em",alignItems:"baseline"},fieldWrapper:{display:"flex",alignItems:"center",margin:"5px 0","& > div ":{marginRight:8}},fieldsContainer:{margin:"15px 0"}}}),wt=function(e){var t=Ot(),a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],i=l[1],c=Object(oe.b)(jt),u=Object(g.a)(c,1)[0],m=Object(ht.c)(),d=m.control,p=m.reset,f=m.handleSubmit,b=m.watch,E=m.errors,h=Object(ht.b)({control:d,name:"fields"}),y=h.fields,j=h.append,O=h.remove;if(o)return r.a.createElement(v.a,{to:{pathname:s,state:{shouldRefetch:!0}}});var C=b("answerType");return r.a.createElement(it.a,{fixed:!0},r.a.createElement("h1",{style:{color:"#011627"}},"Create Room"),r.a.createElement("form",{onSubmit:f(function(e){u({variables:Object(fe.a)({},e)}).then(function(){i(!0),p()})})},r.a.createElement(ht.a,{autoFocus:!0,label:"Title",placeholder:"Title",fullWidth:!0,margin:"normal",variant:"outlined",as:ee.a,rules:{required:!0},error:!!E.title,helperText:E.title?"This field is required":"",name:"title",defaultValue:"",control:d}),r.a.createElement(ht.a,{label:"Content",placeholder:"Content",fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,rows:5,rowsMax:10,as:ee.a,rules:{required:!0},error:!!E.content,helperText:E.content?"This field is required":"",name:"content",defaultValue:"",control:d}),r.a.createElement("div",{className:t.answerTypesWrapper},r.a.createElement(ht.a,{label:"Select type of the answer",disabled:Boolean(y.length),className:t.selection,margin:"normal",variant:"outlined",as:ee.a,select:!0,control:d,onChange:function(e){var t=Object(g.a)(e,1)[0];return j({label:"",type:t.target.value}),t},rules:{required:!0},name:"answerType",error:!!E.answerType,helperText:E.answerType?"This field is required":"Please select preferred type of answers",fullWidth:!0,defaultValue:""},r.a.createElement(ft.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(ft.a,{value:"text"},"Text"),r.a.createElement(ft.a,{value:"percentage"},"Percentage"),r.a.createElement(ft.a,{value:"percentageAndText"},"Text and Percentage")),r.a.createElement("div",null,r.a.createElement(F.a,{disabled:!Boolean(C),color:"primary",variant:"contained",onClick:function(){return j({label:"",type:C})}},"Add Field"))),r.a.createElement("div",{className:t.fieldsContainer},y.map(function(e,a){var n=e.type,l="fields[".concat(a,"].label"),o="fields[".concat(a,"].type"),i=!(!E.fields||!E.fields.length),c=!!i&&Boolean(w(E.fields,{name:l})),s=!!i&&Boolean(w(E.fields,{name:o}));return r.a.createElement("div",{key:a,className:t.fieldWrapper},r.a.createElement(ht.a,{style:{flex:1},as:ee.a,control:d,name:l,defaultValue:e.label,label:"Ask a question",placeholder:"Ask a question",margin:"normal",variant:"outlined",rules:{required:!0},error:c,fullWidth:!0}),"percentageAndText"===n?r.a.createElement(ht.a,{label:"Select an answer type",style:{minWidth:220},margin:"normal",variant:"outlined",as:ee.a,select:!0,control:d,rules:{required:!0},name:o,error:s,defaultValue:""},r.a.createElement(ft.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(ft.a,{value:"text"},"Text"),r.a.createElement(ft.a,{value:"percentage"},"Percentage")):r.a.createElement(ht.a,{style:{display:"none"},as:ee.a,control:d,name:o,defaultValue:e.type,label:"Ask a question",placeholder:"Ask a question",margin:"normal",variant:"outlined",disabled:!0}),r.a.createElement(Re.a,{disabled:1===y.length,onClick:function(){return O(a)}},r.a.createElement(gt.a,null)))})),r.a.createElement(Et.a,{control:r.a.createElement(ht.a,{as:vt.a,control:d,defaultValue:!0,name:"anonymous",color:"primary"}),label:"Leave answer anonymously"}),r.a.createElement(F.a,{className:t.submitBtn,color:"primary",variant:"contained",type:"submit"},"Create")))},Ct=a(240),kt=a.n(Ct),xt=a(677);function It(){var e=Object(_.a)(["\n    mutation CreateClasstMutation($name: String!, $postId: ID! ) {\n        createClass(name: $name, postId: $postId) {\n            id\n        }\n    }\n"]);return It=function(){return e},e}var St=Object(le.a)(It()),Tt=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},root:Object(I.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em",height:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"auto",gridTemplateRows:"1fr 1fr"})}});var Nt=Object(v.f)(function(e){var t=e.postId,a=e.selectedClassId,l=e.refresh,o=Tt(),i=Object(n.useState)(""),c=Object(g.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),p=d[0],f=d[1],b=Object(oe.b)(St),E=Object(g.a)(b,2),v=E[0],h=E[1].loading;Object(n.useEffect)(function(){f(a)},[a]);var y="https://placholder/"+p;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:o.backdrop,open:h},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement("div",{className:o.root},r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr 1fr",gridGap:"1em"}},r.a.createElement(ee.a,{label:"Class Name",value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement(F.a,{disabled:!s,style:{margin:"15px 0"},color:"primary",variant:"contained",onClick:function(){return v({variables:{name:s,postId:t}}).then(function(e){var t=e.data;return f(t.createClass.id)}).then(function(){return l()})}},"Generate QR and Key"),r.a.createElement($t,{keyValue:p,renderQr:function(e){return r.a.createElement(kt.a,{value:y,size:e,level:"H"})}})),r.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr auto",justifyItems:"center",alignItems:"center"}},r.a.createElement(kt.a,{value:y,level:"H"}),r.a.createElement(x.a,{variant:"h5"},p))))}),At=r.a.forwardRef(function(e,t){return r.a.createElement(xt.a,Object.assign({direction:"up",ref:t},e))});function $t(e){var t=e.renderQr,a=e.keyValue,l=r.a.useState(!1),o=Object(g.a)(l,2),i=o[0],c=o[1],s=function(){var e=Object(n.useState)([0,0]),t=Object(g.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),a}(),u=Object(g.a)(s,1)[0]/2;return r.a.createElement("div",null,r.a.createElement(F.a,{variant:"outlined",color:"primary",style:{width:"100%"},onClick:function(){c(!0)}},"Open full-screen QR"),r.a.createElement(W.a,{fullScreen:!0,open:i,onClose:function(){c(!1)},TransitionComponent:At},r.a.createElement("div",{style:{height:"100%",width:"100%",display:"grid",alignItems:"center",justifyItems:"center",margin:10}},t(u/1.3),r.a.createElement(x.a,{variant:"h1"},a))))}var Dt=a(6),Ft=a(327),Rt=a.n(Ft),qt=a(328),Bt=a.n(qt);function Wt(){var e=Object(_.a)(["\n    mutation publishClass($id: ID!, $published :Boolean!) {\n        publishClass(id: $id, published:$published) {\n            id\n            published\n        }\n    }\n"]);return Wt=function(){return e},e}var Pt=Object(le.a)(Wt()),zt=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,margin:"0 !important"}}}),Mt=Object(Dt.a)({switchBase:{color:"#fafafa","&$checked":{color:"rgb(26,148,49)"},"&$checked + $track":{backgroundColor:"rgb(26,148,49)"}},checked:{},track:{}})(Bt.a),Vt=function(e){var t=e.published,a=e.id,l=e.refresh,o=zt(),i=Object(oe.b)(Pt),c=Object(g.a)(i,2),s=c[0],u=c[1].loading;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:o.backdrop,open:u},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(Rt.a,{style:{marginRight:"auto"},control:r.a.createElement(Mt,{size:"small",checked:t,onChange:function(){s({variables:{id:a,published:!t}}).then(function(){return l()})},onClick:function(e){e.stopPropagation(),e.preventDefault()},color:"secondary"}),label:"Accept answers"}))},Lt=a(329),Gt=a(330),Ut=a(347),Ht=a(331),Qt=a(348),Kt=a(684),Yt=a(678),Jt=a(679),Zt=a(343),_t=a.n(Zt),Xt=a(680),ea=a(682),ta=a(624),aa=a(666),na=a(344),ra=a.n(na),la=a(50),oa=[0,10,20,30,40,50,60,70,80,90,100],ia={0:0,10:0,20:0,30:0,40:0,50:0,60:0,70:0,80:0,90:0,100:0};function ca(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var sa=function(e,t){var a=Object(fe.a)({},ia);return e.forEach(function(e){var t=e.value;void 0!==a[t]&&(a[t]=a[t]+1)}),oa.map(function(e){return{subject:e+"%",A:a[e],fullMark:t}})},ua=function(e){var t,a=e.map(function(e){return Number(e.value)});return(t=a).reduce(function(e,t){return e+t},0)/t.length},ma=function(e){var t=function(e,t){return e.map(function(e){return{key:e.id,title:e.label.length>10?e.label.slice(0,10)+"...":e.label,data:sa(e.relativeClassAnswers,t),avg:ua(e.relativeClassAnswers),color:ca()}})}(e.fields,e.submittedFormsCount),a=t.map(function(e){var t=e.title;return{avg:e.avg,title:t}});return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"}},t.map(function(e){var t=e.data,a=e.title,n=e.key,l=e.color;return r.a.createElement("div",{key:n},r.a.createElement(x.a,{align:"center"},a),r.a.createElement(la.j,{cx:200,cy:115,width:350,height:250,data:t,key:n},r.a.createElement(la.d,{value:"Pages of my website",offset:0,position:"insideBottom"}),r.a.createElement(la.g,null),r.a.createElement(la.f,{dataKey:"subject"}),r.a.createElement(la.h,null),r.a.createElement(la.i,{name:"Percentage Result",dataKey:"A",stroke:l,fill:l,fillOpacity:.6})))}),r.a.createElement(la.b,{width:200*a.length,barSize:100,height:250,data:a},r.a.createElement(la.c,{strokeDasharray:"3 3"}),r.a.createElement(la.l,{dataKey:"title"}),r.a.createElement(la.m,{domain:[0,100]}),r.a.createElement(la.k,null),r.a.createElement(la.e,null),r.a.createElement(la.a,{dataKey:"avg",fill:ca()})))},da=a(342),pa=a.n(da),fa=a(681),ba=Object(N.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),ga=function(e,t){return r.a.createElement("div",null,e.map(function(e){var a,n=void 0===(a=e.relativeClassAnswers)||null===a?[]:(Array.isArray(a)||(a=[a]),a);return r.a.createElement(Kt.a,{key:e.id},r.a.createElement(Yt.a,{expandIcon:r.a.createElement(_t.a,null)},r.a.createElement(x.a,null,e.label)),r.a.createElement(Jt.a,{style:{display:"block"}},n.map(function(e){return r.a.createElement("div",{key:e.id,style:{width:"100%",margin:"10px 0"}},r.a.createElement(x.a,{color:"textSecondary"},e.value," ",t?"- ".concat(e.author.name):""),r.a.createElement(Xt.a,null))})))}))},Ea=function(e,t){return r.a.createElement(ma,{fields:e,submittedFormsCount:t})},va=function(e){var t=e.data,a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],i=l[1],c=t.class,s=void 0===c?{}:c,u=s.post,m=s.attendees,d=void 0===m?[]:m,p=u.answerType,f=u.anonymous,b=u.fields,E=d.length;return u?r.a.createElement(n.Fragment,null,f?null:r.a.createElement("div",{style:{margin:10}},r.a.createElement(ya,{attendees:d}),r.a.createElement(Et.a,{style:{marginLeft:20},control:r.a.createElement(fa.a,{checked:o,color:"primary",onChange:function(e){return i(e.target.checked)}}),label:"Show answers with attendees` names"})),"text"===p?ga(b,o):"percentage"===p?Ea(b,E):"percentageAndText"===p?function(e,t){var a=t.submittedFormsCount,n=t.showNames,l=e.reduce(function(e,t){var a=t.type;return e[a]||(e[a]=[]),e[a].push(t),e},{});return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"}},ga(l.text,n),Ea(l.percentage,a))}(b,{submittedFormsCount:E,showNames:o}):null):null},ha=r.a.forwardRef(function(e,t){return r.a.createElement(xt.a,Object.assign({direction:"up",ref:t},e))}),ya=function(e){var t=e.attendees,a=ba(),l=Object(n.useState)(!1),o=Object(g.a)(l,2),i=o[0],c=o[1],s=function(){return c(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{variant:"outlined",color:"primary",onClick:function(){return c(!0)}},"Show Attendees List"),r.a.createElement(W.a,{fullScreen:!0,open:i,onClose:s,TransitionComponent:ha},r.a.createElement(S.a,{className:a.appBar},r.a.createElement(T.a,null,r.a.createElement(Re.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close"},r.a.createElement(ra.a,null)),r.a.createElement(x.a,{variant:"h6",className:a.title},"Attendees List"))),r.a.createElement(aa.a,null,t.map(function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(ta.a,null,r.a.createElement(ea.a,{primary:e.name,secondary:pa()(e.createdAt).format("MMMM Do YYYY, HH:mm:ss")})),r.a.createElement(Xt.a,null))}))))};function ja(){var e=Object(_.a)(["\n    subscription attendeeSubscription($classId: ID!) {\n        attendeeSubscription(classId: $classId) {\n            id\n            name\n            attendees{\n                id\n                name\n                createdAt\n            }\n            post {\n                anonymous\n                answerType\n                fields{\n                    id\n                    label\n                    type\n                    relativeClassAnswers(classId:$classId){\n                        id\n                        value\n                        author{\n                            name\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return ja=function(){return e},e}function Oa(){var e=Object(_.a)(["\n    query ClassInfoQUery($id: ID!) {\n        class(id: $id) {\n            id\n            name\n            attendees{\n                id\n                name\n                createdAt\n            }\n            post {\n                anonymous\n                answerType\n                fields{\n                    id\n                    label\n                    type\n                    relativeClassAnswers(classId:$id){\n                        id\n                        value\n                        author{\n                            name\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return Oa=function(){return e},e}var wa=Object(le.a)(Oa()),Ca=Object(le.a)(ja());function ka(e){var t=e.selectedClassId,a=Object(oe.c)(wa,{variables:{id:t}}),n=a.subscribeToMore,l=Object(h.a)(a,["subscribeToMore"]);return r.a.createElement(xa,Object.assign({},l,{subscribeToMoreAttendees:function(){return n({document:Ca,variables:{classId:t},updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;var n=a.data.attendeeSubscription;return Object.assign({},e,{class:Object(fe.a)({},e.class,n)})}})}}))}var xa=function(e){function t(){return Object(Lt.a)(this,t),Object(Ut.a)(this,Object(Ht.a)(t).apply(this,arguments))}return Object(Qt.a)(t,e),Object(Gt.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToMoreAttendees()}},{key:"render",value:function(){var e=this.props,t=e.data;return e.loading?r.a.createElement("div",{style:{display:"grid",height:"100%",alignItems:"center",justifyItems:"center"}},r.a.createElement(Pe.a,null)):r.a.createElement(va,{data:t})}}]),t}(n.Component);function Ia(){var e=Object(_.a)(["\n    query PostQuery($id: ID!) {\n        post(id: $id) {\n            id\n            title\n            content\n            published\n            anonymous\n            author {\n                name\n            }\n            classes{\n                id\n                name\n                published\n            }\n        }\n    }\n"]);return Ia=function(){return e},e}var Sa=Object(le.a)(Ia()),Ta=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{height:"100%",display:"grid",gridTemplateRows:"auto 1fr",gridGap:"2em",padding:"2em"},topSectionsWrapper:Object(I.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"2em"},e.breakpoints.down("sm"),{gridTemplateColumns:"auto",gridTemplateRows:"auto auto"}),paper:{padding:e.spacing(2),height:"100%",color:e.palette.text.secondary},item:{padding:10},selectionRoot:{"& .MuiSelect-select":{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}},sectionPlaceholder:{display:"grid",alignItems:"center",height:"100%"}}}),Na=Object(v.f)(function(e){var t=e.match,a=e.history,l=t.params,o=(void 0===l?{}:l).id;if(!o)return r.a.createElement(v.a,{to:"/"});var i=Ta(),c=Object(oe.c)(Sa,{variables:{id:o},options:{fetchPolicy:"network-only"}}),u=c.loading,m=c.data,d=void 0===m?{}:m,p=c.refetch,f=Object(n.useState)(""),b=Object(g.a)(f,2),E=b[0],h=b[1],y=function(){return p()},j=d.post,O=void 0===j?{}:j;if(!O)return r.a.createElement(v.a,{to:"/"});var w=O.title,C=O.content,I=O.anonymous,S=O.classes,T=void 0===S?[]:S;return r.a.createElement(n.Fragment,null,r.a.createElement(lt.a,{className:i.backdrop,open:u},r.a.createElement(ot.a,{color:"inherit"})),r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.topSectionsWrapper},r.a.createElement(k.a,{className:i.paper,elevation:6},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Title"),w),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Content"),C),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(x.a,{color:"textSecondary"},"Answers are ",I?"":"not"," anonymous"),r.a.createElement("div",null,r.a.createElement(He,{title:w,id:o,refresh:function(){return a.push({pathname:s,state:{shouldRefetch:!0}})}}),r.a.createElement(at,{title:w,id:o,content:C,refresh:function(){return y()}}))),T?r.a.createElement(Je.a,{className:i.selection,select:!0,fullWidth:!0,label:"Select class",value:E,name:"answerType",classes:{root:i.selectionRoot},onChange:function(e){var t=e.target;return h(t.value)},variant:"outlined",helperText:"Please select class to see the answers statistic"},T.map(function(e){var t=e.id,a=e.name,n=e.published;return r.a.createElement(ft.a,{key:t,value:t,style:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"1em"}},a,r.a.createElement(Vt,{published:n,id:t,refresh:function(){return y()}}))})):null),r.a.createElement(k.a,{elevation:6,className:i.paper},r.a.createElement(Nt,{postId:o,selectedClassId:E,refresh:function(){return y()}}))),r.a.createElement("div",null,r.a.createElement(k.a,{elevation:6,className:i.paper},E?r.a.createElement(ka,{selectedClassId:E}):r.a.createElement("div",{className:i.sectionPlaceholder},r.a.createElement(x.a,{variant:"h2",align:"center"},"Please select class"))))))}),Aa=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(ae.a,{item:!0},r.a.createElement(k.a,{elevation:5,style:{padding:20}},r.a.createElement(x.a,{style:{margin:20},variant:"h3",align:"center"},"Thank you for your response"),r.a.createElement(Xt.a,null),r.a.createElement(x.a,{style:{margin:20},variant:"h5",align:"center"},"Your response submitted successfully")))))},$a=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(ae.a,{item:!0},r.a.createElement(k.a,{elevation:5,style:{padding:20}},r.a.createElement(x.a,{style:{margin:20},variant:"h3",align:"center"},"Oops time is out"),r.a.createElement(Xt.a,null),r.a.createElement(x.a,{style:{margin:20},variant:"h5",align:"center"},"Sorry room is closed")))))};function Da(){var e=Object(_.a)(["            \n    mutation CreateAttendee($name:String!, $answers:[inputAnswer!]!, $classId:ID! ) {\n        createAttendee(name:$name, answers: $answers ,classId: $classId) {\n            id\n        }\n    }\n"]);return Da=function(){return e},e}function Fa(){var e=Object(_.a)(["\n    query AnswerFormQuery($id: ID!) {\n        class(id: $id) {\n            id\n            name\n            post {\n                title\n                content\n                anonymous\n                answerType\n                id\n                fields{\n                    id\n                    label\n                    type\n                }\n            }\n            published\n\n        }\n    }\n"]);return Fa=function(){return e},e}var Ra=Object(le.a)(Fa()),qa=Object(le.a)(Da()),Ba=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{padding:"2em"}}}),Wa=Object(v.f)(function(e){var t=e.match.params,a=(void 0===t?{}:t).id,l=Ba(),o=Object(ht.c)(),i=o.control,c=o.handleSubmit,s=o.errors,u=Object(oe.c)(Ra,{variables:{id:a},options:{fetchPolicy:"network-only"}}),d=u.loading,p=u.data,f=void 0===p?{}:p,b=Object(oe.b)(qa),E=Object(g.a)(b,2),y=E[0],j=E[1].loading,O=Object(n.useState)(!1),w=Object(g.a)(O,2),C=w[0],k=w[1];if(!a)return r.a.createElement(v.a,{to:m});var I=f.class;if(d)return r.a.createElement(lt.a,{className:l.backdrop,open:!0},r.a.createElement(ot.a,{color:"inherit"}));if(null===I||void 0===I)return r.a.createElement(v.a,{to:m});var S=I.name,T=I.post,N=void 0===T?{}:T,A=I.published,$=N.fields,D=void 0===$?[]:$,R=N.title,q=N.content,B=N.anonymous;return!1===A?r.a.createElement($a,null):C?r.a.createElement(Aa,null):r.a.createElement(it.a,{fixed:!0,className:l.root},r.a.createElement(lt.a,{className:l.backdrop,open:j},r.a.createElement(ot.a,{color:"inherit"})),r.a.createElement(x.a,{variant:"h3",align:"center"},"Class ",S),r.a.createElement(x.a,{variant:"h4",align:"left"},R),r.a.createElement(x.a,{variant:"h6",align:"left"}," ",q),r.a.createElement("form",{onSubmit:c(function(e){var t=e.name,n=void 0===t?"Anonymous":t,r=Object(h.a)(e,["name"]),l=Object.keys(r).reduce(function(e,t){var a={field:{id:t},value:r[t]};return e.push(a),e},[]);y({variables:{name:n,createdAt:new Date,answers:l,classId:a}}).then(function(){return k(!0)})})},B?null:r.a.createElement(ht.a,{label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",as:Je.a,rules:{required:!0},error:!!s.name,helperText:s.name?"This field is required":"Please enter name",name:"name",defaultValue:"",control:i}),D.map(function(e){var t=e.id,a=e.label,n=e.type;return"text"===n?r.a.createElement(ht.a,{key:t,label:a,margin:"normal",variant:"outlined",as:Je.a,rules:{required:!0},error:!!s[t],helperText:s[t]?"This field is required":"",name:t,control:i,fullWidth:!0,defaultValue:""}):"percentage"===n?r.a.createElement(ht.a,{key:t,margin:"normal",variant:"outlined",as:Je.a,select:!0,label:a,control:i,rules:{required:!0},error:!!s[t],helperText:s[t]?"This field is required":"",name:t,fullWidth:!0,defaultValue:""},r.a.createElement(ft.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(ft.a,{value:"0"},"Zero"),r.a.createElement(ft.a,{value:"10"},"Ten"),r.a.createElement(ft.a,{value:"20"},"Twenty"),r.a.createElement(ft.a,{value:"30"},"Thirty"),r.a.createElement(ft.a,{value:"40"},"Forty"),r.a.createElement(ft.a,{value:"50"},"Fifty"),r.a.createElement(ft.a,{value:"60"},"Sixty"),r.a.createElement(ft.a,{value:"70"},"Seventy"),r.a.createElement(ft.a,{value:"80"},"Eighty"),r.a.createElement(ft.a,{value:"90"},"Ninety"),r.a.createElement(ft.a,{value:"100"},"Hundred")):"Cant find current type input"}),r.a.createElement(F.a,{color:"primary",variant:"contained",type:"submit",disabled:C},"Submit Answers")))});function Pa(){var e=Object(_.a)(["\n    query ClassQuery($id: ID!) {\n        class(id: $id) {\n            id\n        }\n    }\n"]);return Pa=function(){return e},e}var za=Object(le.a)(Pa()),Ma=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},text:{color:"#011627"},white:{color:"white"}}}),Va=function(){var e=Ma(),t=Object(n.useState)(""),a=Object(g.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)({isError:!1,isValid:!1}),c=Object(g.a)(i,2),s=c[0],u=c[1],m=Object(oe.a)(za,{onCompleted:function(e){var t=e.class;return u({isValid:Boolean(t&&t.id),isError:!Boolean(t&&t.id)})}}),d=Object(g.a)(m,2),p=d[0],f=d[1].loading;return Object(n.useEffect)(function(){return u({isError:!1,isValid:!1})},[l]),l&&s.isValid?r.a.createElement(v.a,{to:"/room/"+l}):r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:e.backdrop,open:f},r.a.createElement(Pe.a,{color:"inherit"})),r.a.createElement(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(ae.a,{item:!0},r.a.createElement(x.a,{variant:"h4",className:e.text}," Please specify room ID "),r.a.createElement(ee.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Room ID",onChange:function(e){var t=e.target;return o(t.value)},error:s.isError,helperText:s.isError?"Please check room ID":""}),r.a.createElement(F.a,{className:e.white,disabled:s.isError,variant:"contained",color:"primary",onClick:function(){return p({variables:{id:l}})}},"Enter Room"))))},La=Object(N.a)(function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},root:{padding:"2em"}}}),Ga=function(){var e=La();return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(ae.a,{item:!0},r.a.createElement(x.a,{variant:"h4",className:e.text}," Please specify room ID "))))},Ua=function(e){try{var t=localStorage.getItem(o);if(null!==t&&void 0!==t)Z(t)?(localStorage.removeItem(o),e(t)):e(t)}catch(a){console.log("")}};function Ha(e){var t=e.token,a=Object(n.useState)(t),l=Object(g.a)(a,2)[1];Object(n.useEffect)(function(){Ua(l)},[]);var p=function(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)};return r.a.createElement(E.a,null,r.a.createElement(K,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:Ga}),r.a.createElement(v.b,{exact:!0,path:c,render:function(e){return y()?r.a.createElement(v.a,{to:"/"}):r.a.createElement(pe,Object.assign({},e,{refreshTokenFn:p}))}}),r.a.createElement(v.b,{exact:!0,path:i,render:function(e){return y()?r.a.createElement(v.a,{to:"/"}):r.a.createElement(Oe,Object.assign({},e,{refreshTokenFn:p}))}}),r.a.createElement(C,{path:u,component:wt}),r.a.createElement(C,{path:s,component:pt}),r.a.createElement(C,{path:"/post/:id",component:Na}),r.a.createElement(v.b,{exact:!0,path:m,component:Va}),r.a.createElement(v.b,{exact:!0,path:d,component:Wa}),r.a.createElement(v.b,{render:function(){return r.a.createElement(k.a,{elevation:15,style:{margin:"20px 10px",padding:"20px 10px"}},r.a.createElement(x.a,{color:"textSecondary",variant:"h1",align:"center"},"Error 404"),r.a.createElement(x.a,{color:"textSecondary",variant:"h4",align:"center"},"Page not found ",r.a.createElement("span",{role:"img","aria-label":"hey"},"\ud83d\ude1e")))}}))))}var Qa=a(194),Ka=a(345),Ya=a(29),Ja=a(7),Za=new Qa.HttpLink({uri:"http://localhost:4000"}),_a=new Ya.ApolloLink(function(e,t){var a=localStorage.getItem(o);return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):""}}),t(e)}).concat(Za),Xa=new Ka.a({uri:"ws://localhost:4000",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem(o))}}}),en=Object(Ya.split)(function(e){var t=e.query,a=Object(Ja.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r},Xa,_a),tn=new Qa.ApolloClient({link:Ya.ApolloLink.from([en]),cache:new Qa.InMemoryCache,connectToDevTools:!0}),an=localStorage.getItem(o),nn=function(){return r.a.createElement(f.a,{client:tn},r.a.createElement(p.a,{theme:Object(b.a)({palette:{primary:{main:"#008DA0"}}})},r.a.createElement(Ha,{token:an})))};Object(l.render)(r.a.createElement(nn,null),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.9ea17b25.chunk.js.map